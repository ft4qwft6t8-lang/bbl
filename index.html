<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>ballard bread lab · late night pickup</title>
  <link rel="stylesheet" href="styles.css" />
  <script defer src="script.js"></script>

  <style>
    
.card-grid {
  display: grid;
  /* create responsive columns but cap card width to image width */
  grid-template-columns: repeat(auto-fit, minmax(240px, 320px));
  justify-content: center; /* center columns when there's extra space */
  gap: 1rem;
}
/* Ensure cards don't expand beyond the column width */
.card {
  width: 100%;
  max-width: 320px;
  box-sizing: border-box;
}

/* Align card internals so buttons line up and descriptions don't stagger */
.card {
  display: flex;
  flex-direction: column;
  /* make cards a consistent height so multiple cards align vertically */
  min-height: 520px;
}

.card-head-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.5rem;
}

.card-text,
.card-organic,
.card-ingredients {
  margin-top: 0.5rem;
}

/* Ensure organic label and Ingredients label share the same left alignment */
.card-organic,
.ingredients-label,
.card-text {
  margin-left: 0;
  padding-left: 0;
  text-align: left;
}

/* Make sure ingredient label sits flush with other content and doesn't inherit monospace offset */
.ingredients-label {
  display: block;
}

/* Push the Add to Cart / action button to the bottom of the card */
.card .btn-primary.full {
  margin-top: auto;
  align-self: stretch;
}

/* Prevent ingredients block from stretching cards too tall */
.card-ingredients .ingredients-list {
  max-height: 110px;
  overflow: auto;
}
/* Constrain product photos so they fit nicely in the card */
.photo-placeholder img {
  width: 100%;        /* responsive to card width */
  height: auto;       /* preserve aspect ratio */
  max-width: 320px;   /* don't exceed this width */
  max-height: 220px;  /* limit height so it's not too large */
  object-fit: cover;  /* crop to fill if needed */
  display: block;
  border-radius: 6px;
}

.photo-placeholder {
  overflow: hidden; /* ensure cropped image doesn't overflow */
}
.summary-items-container {
  border-top: 1px solid var(--border-color);
  border-bottom: 1px solid var(--border-color);
  padding: 12px 0;
  margin: 12px 0;
}
.summary-item {
  display: flex;
  justify-content: space-between;
  padding: 6px 0;
  font-size: var(--fs-13);
  color: var(--text-main);
}
.summary-item span:first-child {
  color: var(--text-mid);
}
.summary-total-line {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
  font-size: var(--fs-16);
  font-weight: 600;
  margin-top: 8px;
  color: var(--text-main);
}
    .modal {
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.75);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .modal.hidden {
      display: none;
    }
    .modal-content {
      background-color: var(--bg-card);
      color: var(--text-main);
      margin: auto;
      padding: 1.5rem;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-xl);
      width: 90%;
      max-width: 500px;
      box-shadow: var(--shadow-card);
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 12px;
      margin-bottom: 16px;
    }
    .modal-header h2 {
      margin: 0;
      font-size: var(--fs-18);
      font-weight: 600;
      color: var(--text-main);
    }
    .modal-header button {
      background: none;
      border: none;
      font-size: 1.8rem;
      color: var(--text-dim);
      cursor: pointer;
      transition: color 0.12s;
    }
    .modal-header button:hover {
      color: var(--text-main);
    }
    .modal-body h3 {
      margin-top: 16px;
      margin-bottom: 8px;
      font-size: var(--fs-14);
      font-weight: 600;
      color: var(--text-main);
    }
    .modal-body p {
      margin: 4px 0;
      color: var(--text-mid);
      font-size: var(--fs-13);
    }
    .modal-body form {
      margin-top: 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .modal-body label {
      font-weight: 600;
      font-size: var(--fs-12);
      color: var(--text-mid);
      margin-bottom: -8px;
    }
    .modal-body input {
      padding: 10px 12px;
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-color);
      background-color: var(--bg-accent);
      color: var(--text-main);
      font-size: var(--fs-13);
      font-family: inherit;
      transition: border-color 0.12s;
    }
    .modal-body input:focus {
      outline: none;
      border-color: var(--pill-green-border);
    }
    .modal-body button[type="submit"],
    .modal-body button[type="button"] {
      margin-top: 0.5rem;
    }
  </style>
</head>
<body class="bg-body text-body">

<header class="header">
  <div class="wrap header-inner">
    <div class="brand-block">
      <div class="brand-row">
        <a href="index.html" class="brand-name">ballard bread lab</a>
        <div class="pill pill-green">late night pickup</div>
      </div>
      <div class="brand-sub">whole wheat • olive oil • egg • baked to order</div>
    </div>

    <div class="pickup-loc">
      <div class="pickup-line">pickup: side door · unit 105</div>
      <div class="pickup-line">5512 17th Ave NW, Seattle, WA 98107</div>
      <div class="pickup-note">prepaid pickup · baked per order</div>
    </div>
  </div>
</header>

<main class="wrap main-grid">
  <section class="main-col">

    <section id="breads" class="block">
      <div class="section-head">
        <div class="section-title">
          <a href="index.html" class="pill pill-green active">tonight's loaves baked per order</a>
          <a href="gift.html" class="pill pill-green">giftstore</a>
        </div>
        <p class="section-desc">
          baked fresh and ready in your pickup window. choose pickup slot → pay → we bake.
        </p>
      </div>

      <div class="card-grid">

        <article class="card">
          <div class="photo-placeholder">
            <img src="images/midnight-herb-loaf.png" alt="Midnight Herb Loaf" loading="lazy">
          </div>
          <div class="card-head-row">
            <div class="card-title">Midnight Herb Loaf</div>
            <div class="card-price">$8</div>
          </div>
          <div class="card-text">
            Whole wheat + olive oil + egg. Garlic, onion, Italian herb blend.
          </div>
          <div class="card-organic">All organic ingredients.</div>
          <div class="card-ingredients">
            <div class="ingredients-label">Ingredients</div>
            <div class="ingredients-list">
              Whole-wheat flour, bread flour, warm water, olive oil, egg,
              cane sugar, sea salt, onion powder, garlic powder,
              Italian herbs (oregano, basil, thyme, rosemary), yeast.
            </div>
            <div class="allergen">Contains: Wheat, Egg.</div>
          </div>
          <button class="btn-primary full"
            onclick="addToCart('Midnight Herb Loaf', 8)">
            Add to Cart
          </button>
        </article>

        <article class="card">
          <div class="photo-placeholder">
            <img src="images/night-chocolate-loaf.png" alt="Night Chocolate Loaf" loading="lazy">
          </div>
          <div class="card-head-row">
            <div class="card-title">Night Chocolate Loaf</div>
            <div class="card-price">$9</div>
          </div>
          <div class="card-text">
            Olive oil, egg, cocoa, vanilla, cinnamon. Soft, slightly sweet.
          </div>
          <div class="card-organic">All organic ingredients.</div>
          <div class="card-ingredients">
            <div class="ingredients-label">Ingredients</div>
            <div class="ingredients-list">
              Whole-wheat flour, bread flour, warm water, olive oil, egg,
              cane sugar, cocoa powder, cinnamon, vanilla extract,
              sea salt, yeast.
            </div>
            <div class="allergen">Contains: Wheat, Egg.</div>
          </div>
          <button class="btn-primary full"
            onclick="addToCart('Night Chocolate Loaf', 9)">
            Add to Cart
          </button>
        </article>

        <article class="card">
          <div class="photo-placeholder">
            <img src="images/ballard-biscocho.png" alt="Ballard Biscocho" loading="lazy">
          </div>
          <div class="card-head-row">
            <div class="card-title">Ballard Biscocho</div>
            <div class="card-price">$10</div>
          </div>
          <div class="card-text">
            Crisp sweet bread bites, caramelized edges.
          </div>
          <div class="card-organic">All organic ingredients.</div>
          <div class="card-ingredients">
            <div class="ingredients-label">Ingredients</div>
            <div class="ingredients-list">
              Whole-wheat flour, bread flour, warm water, olive oil, egg,
              cane sugar, cinnamon, vanilla extract, sea salt, yeast.
            </div>
            <div class="allergen">Contains: Wheat, Egg.</div>
          </div>
          <button class="btn-primary full"
            onclick="addToCart('Ballard Biscocho', 10)">
            Add to Cart
          </button>
        </article>
      </div>
    </section>

    <section id="contact" class="block">
      <form
        action="https://formspree.io/f/xanlylkl"
        method="POST"
        class="contact-card"
      >
        <h2 class="pill pill-green">questions?</h2>
        <p class="card-text">
          ask about bread, pickup windows, or gift items.
        </p>
        <label class="form-field">
          <span class="form-label">Your email</span>
          <input class="input"
            type="email"
            name="email"
            required
            placeholder="you@example.com" />
        </label>
        <label class="form-field">
          <span class="form-label">Message</span>
          <textarea class="input textarea"
            name="message"
            rows="4"
            required
            placeholder="type your message here"></textarea>
        </label>
        <button class="btn-primary full" type="submit">Send</button>
        <div class="form-foot">
          handled securely by Formspree.
        </div>
      </form>
    </section>
  </section>

  <aside class="cart-col">
    <div class="cart-card">
      <div class="cart-top">
        <div class="pill pill-green">your order</div>
        <div class="cart-total">
          $<span id="cartTotal">0.00</span>
        </div>
      </div>

      <div id="cartItems" class="cart-items empty-msg">
        Cart is empty.
      </div>
      
    <section id="pickup" class="block">
      <h2 class="pill pill-green">choose pickup window</h2>
      <p class="section-desc">
        each loaf is started for your slot.
      </p>

      <div class="window-grid">
        <label class="window-card">
          <input
            type="radio"
            name="pickupWindow"
            class="hidden-radio"
            value="afternoon"
            checked
            onchange="setPickupWindow('afternoon')"
          />
          <div class="window-name">Afternoon Batch</div>
          <div class="window-time">3 PM – 4 PM</div>
          <div class="window-hint">orders in before 12 PM</div>
        </label>

        <label class="window-card">
          <input
            type="radio"
            name="pickupWindow"
            class="hidden-radio"
            value="evening"
            onchange="setPickupWindow('evening')"
          />
          <div class="window-name">Evening Batch</div>
          <div class="window-time">6 PM – 7 PM</div>
          <div class="window-hint">orders in before 3 PM</div>
        </label>

        <label class="window-card">
          <input
            type="radio"
            name="pickupWindow"
            class="hidden-radio"
            value="night"
            onchange="setPickupWindow('night')"
          />
          <div class="window-name">Night Batch</div>
          <div class="window-time">9 PM – 10 PM</div>
          <div class="window-hint">orders in before 6 PM</div>
        </label>

        <label class="window-card">
          <input
            type="radio"
            name="pickupWindow"
            class="hidden-radio"
            value="midnight"
            onchange="setPickupWindow('midnight')"
          />
          <div class="window-name">Midnight Batch</div>
          <div class="window-time">12 AM – 1 AM</div>
          <div class="window-hint">pickup ok</div>
        </label>
      </div>

      <div class="info-block">
        <div class="info-head">Delivery</div>
        <div class="info-body">
          local delivery option coming soon.
        </div>
        <div class="toast-action">
          <button class="btn-secondary full" disabled>
            Delivery coming soon
          </button>
        </div>
        <div class="info-note">
          pickup: side door · unit 105 · 5512 17th Ave NW
        </div>
      </div>
    </section>
      
      <a href="gift.html" class="btn-primary full alt-btn">
        Add gift items
      </a>

      <button class="btn-checkout" onclick="openPayModal()">
        Pay &amp; schedule pickup →
      </button>

      <p class="checkout-note">
        choose pickup window, pay now, then swing by unit 105.
      </p>

    </div>
  </aside>
</main>

<footer class="footer">
  <div class="wrap footer-inner">
    <div class="foot-left">
      <div class="pill pill-green">ballard bread lab</div>
      <div>side door pickup · unit 105</div>
      <div>5512 17th Ave NW, Seattle, WA 98107</div>
    </div>
    <div class="foot-right">
      <div>card checkout via Stripe</div>
      <div>contact form active</div>
    </div>
  </div>
</footer>

<div id="payModal" class="modal hidden">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Complete Your Order</h2>
      <button onclick="closePayModal()">×</button>
    </div>

    <div class="modal-body">
      <h3>Pickup Window</h3>
      <p id="summaryWindow"></p>

      <h3>Order Summary</h3>
      <div id="summaryItems" class="summary-items-container">
        </div>
      <div class="summary-total-line">
        <strong>Total</strong>
        <strong id="summaryTotal">$0.00</strong>
      </div>

      <form onsubmit="return false;">
        
  <label for="buyerName">Name</label>
  <input type="text" id="buyerName" placeholder="Your Name" required>

  <label for="buyerPhone">Phone</label>
  <input type="tel" id="buyerPhone" placeholder="For pickup notifications" required>

  <label for="buyerEmail">Email</label>
  <input type="email" id="buyerEmail" placeholder="For your receipt" required>

  <button type="button" class="btn-primary full" onclick="checkoutStripe()">
    Continue to Secure Payment
  </button>
</form>
    </div>
  </div>
</div>
  </div>
</div>

</body>
</html>
