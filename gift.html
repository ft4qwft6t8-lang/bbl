<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>ballard bread lab · gift items</title>
  <link rel="stylesheet" href="styles.css" />
  <script defer src="script.js"></script>
  <style>
    /* Modal styles from main page */
    .modal {
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.75);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .modal.hidden {
      display: none;
    }
    .modal-content {
      background-color: var(--bg-card);
      color: var(--text-main);
      margin: auto;
      padding: 1.5rem;
      border: 1px solid var(--border-color);
      border-radius: var(--radius-xl);
      width: 90%;
      max-width: 500px;
      box-shadow: var(--shadow-card);
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 12px;
      margin-bottom: 16px;
    }
    .modal-header h2 {
      display: inline-block;
      margin: 0;
      padding: 0.25rem 0.5rem;
    }
    
    /* Photo styling to match main page */
    .photo-placeholder img {
      width: 100%;        /* responsive to card width */
      height: auto;       /* preserve aspect ratio */
      max-width: 220px;   /* square constraint - same as bread height */
      max-height: 220px;  /* square constraint - same as bread height */
      object-fit: contain; /* fit entire image without cropping */
      display: block;
      border-radius: 6px;
      filter: drop-shadow(0 0 8px rgba(34, 197, 94, 0.6)) drop-shadow(0 0 20px rgba(34, 197, 94, 0.3)); /* subtle green glow */
      transition: filter 0.3s ease;
    }
    
    .photo-placeholder img:hover {
      filter: drop-shadow(0 0 12px rgba(34, 197, 94, 0.7)) drop-shadow(0 0 25px rgba(34, 197, 94, 0.4));
    }
    
    .photo-placeholder {
      overflow: hidden; /* ensure cropped image doesn't overflow */
    }
    
    /* Card grid styling to match main page */
    .card-grid {
      display: grid;
      /* create responsive columns but cap card width to image width */
      grid-template-columns: repeat(auto-fit, minmax(240px, 320px));
      justify-content: center; /* center columns when there's extra space */
      gap: 1rem;
    }
    
    /* Ensure cards don't expand beyond the column width */
    .card {
      width: 100%;
      max-width: 320px;
      box-sizing: border-box;
    }

    /* Align card internals so buttons line up and descriptions don't stagger */
    .card {
      display: flex;
      flex-direction: column;
      /* make cards a consistent height so multiple cards align vertically */
      min-height: 520px;
    }

    .card-head-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
    }

    .card-text,
    .card-organic,
    .card-ingredients {
      margin-top: 0.5rem;
    }

    /* Ensure organic label and Ingredients label share the same left alignment */
    .card-organic,
    .ingredients-label,
    .card-text {
      margin-left: 0;
      padding-left: 0;
      text-align: left;
    }

    /* Make sure ingredient label sits flush with other content and doesn't inherit monospace offset */
    .ingredients-label {
      display: block;
    }

    /* Push the Add to Cart / action button to the bottom of the card */
    .card .btn-primary.full {
      margin-top: auto;
      align-self: stretch;
    }
    
    /* Style gift product titles to match "All organic ingredients" */
    .card-title {
      color: var(--text-green);
      font-size: var(--fs-13);
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    }
    
    /* Style Add to Cart buttons with monospace font and lowercase */
    .card .btn-primary.full {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      text-transform: lowercase;
    }
    
    .modal-header button {
      background: none;
      border: none;
      font-size: 1.8rem;
      color: var(--text-dim);
      cursor: pointer;
      transition: color 0.12s;
    }
    .modal-header button:hover {
      color: var(--text-main);
    }
    .modal-body h3 {
      display: inline-block;
      margin-top: 16px;
      margin-bottom: 8px;
      padding: 0.25rem 0.5rem;
      font-size: var(--fs-10);
      font-weight: 500;
      line-height: 1;
      color: var(--text-green);
      background-color: var(--pill-green-bg);
      border: 1px solid var(--pill-green-border);
      border-radius: 0.5rem;
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      text-transform: lowercase;
    }
    .modal-body p {
      margin: 4px 0;
      color: var(--text-mid);
      font-size: var(--fs-13);
    }
    .modal-body form {
      margin-top: 24px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .modal-body label {
      font-weight: 600;
      font-size: var(--fs-12);
      color: var(--text-mid);
      margin-bottom: -8px;
    }
    .modal-body input {
      padding: 10px 12px;
      border-radius: var(--radius-lg);
      border: 1px solid var(--border-color);
      background-color: var(--bg-accent);
      color: var(--text-main);
      font-size: var(--fs-13);
      font-family: inherit;
      transition: border-color 0.12s;
    }
    .modal-body input:focus {
      outline: none;
      border-color: var(--pill-green-border);
    }
    .modal-body button[type="submit"],
    .modal-body button[type="button"] {
      margin-top: 0.5rem;
    }
    .summary-items-container {
      border-bottom: 1px solid var(--border-color);
      padding: 0 0 12px 0;
      margin: -4px 0 12px 0;
    }
    .summary-item {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      font-size: var(--fs-13);
      color: var(--text-main);
    }
    .summary-item span:first-child {
      color: var(--text-mid);
    }
    .summary-total-line {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.25rem 0.5rem;
      font-size: var(--fs-10);
      font-weight: 500;
      line-height: 1;
      margin-top: 8px;
      color: var(--text-green);
      background-color: var(--pill-green-bg);
      border: 1px solid var(--pill-green-border);
      border-radius: 0.5rem;
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      text-transform: lowercase;
    }
  </style>
</head>
<body class="bg-body text-body">

<header class="header">
  <div class="wrap header-inner">
    <div class="brand-block">
      <div class="brand-row">
        <a href="index.html" class="brand-name">ballard bread lab</a>
        <div class="pill pill-green">add-ons / gifts</div>
      </div>
      <div class="brand-sub">late night pickup · preorder only</div>
    </div>

    <div class="pickup-loc">
      <div class="pickup-line">pickup: side door · unit 105</div>
      <div class="pickup-line">5512 17th Ave NW, Seattle, WA 98107</div>
      <div class="pickup-note">prepaid pickup</div>
    </div>
  </div>
</header>

<main class="wrap main-grid">
  <section class="main-col">

    <section class="block">
      <div class="section-head">
        <div class="section-title">
          <a href="index.html" class="pill pill-green">tonight's loaves baked per order</a>
          <a href="gift.html" class="pill pill-green active">giftstore</a>
        </div>
        <p class="section-desc">
          add-ons ride along with your bread pickup window.
        </p>
      </div>

      <div class="card-grid gift-card-grid">

        <!-- Flashlight -->
        <article class="card">
          <div class="photo-placeholder">
            <img src="images/flash.png" alt="Silver Flashlight" loading="lazy">
          </div>

          <div class="card-head-row">
            <div class="card-title">Mini Flashlight (silver)</div>
            <div class="card-price">$20</div>
          </div>

          <div class="card-text">
            pocket light, warm cozy 1800K beam, metal housing, takes AA, easy alley navigation.
          </div>

          <button class="btn-primary full"
            onclick="addToCart('Mini Flashlight (silver)', 6)">
            Add to Cart
          </button>
        </article>

        <!-- Socks -->
        <article class="card">
          <div class="photo-placeholder">
            <img src="images/eggplant.png" alt="Midnight Herb Loaf" loading="lazy">
          </div>
          <div class="card-head-row">
            <div class="card-title">Cotton Socks (eggplant)</div>
            <div class="card-price">$15</div>
          </div>

          <div class="card-text">
            soft cotton crew socks in eggplant colorway.
          </div>

          <button class="btn-primary full"
            onclick="addToCart('Cotton Socks (eggplant)', 9)">
            Add to Cart
          </button>
        </article>

      </div>

      <div class="back-link-row">
        <a class="btn-secondary full" href="index.html">
          ← back to bread / checkout
        </a>
      </div>
    </section>

    <!-- contact still available here -->
    <section id="contact" class="block">
      <form
        action="https://formspree.io/f/xanlylkl"
        method="POST"
        class="contact-card"
      >
        <h2 class="section-title no-gap">questions?</h2>
        <p class="section-desc tight">
          ask about pickup windows, gifts, sizing, etc.
        </p>

        <label class="form-field">
          <span class="form-label">Your email</span>
          <input class="input"
            type="email"
            name="email"
            required
            placeholder="you@example.com" />
        </label>

        <label class="form-field">
          <span class="form-label">Message</span>
          <textarea class="input textarea"
            name="message"
            rows="4"
            required
            placeholder="type your message here"></textarea>
        </label>

        <button class="btn-primary full" type="submit">Send</button>

        <div class="form-foot">
          handled securely by Formspree.
        </div>
      </form>
    </section>
  </section>

  <!-- CART SIDEBAR -->
  <aside class="cart-col">
    <div class="cart-card">
      <div class="cart-top">
        <div class="pill pill-green">your order</div>
        <div class="cart-total">
          $<span id="cartTotal">0.00</span>
        </div>
      </div>

      <div id="cartItems" class="cart-items empty-msg">
        Cart is empty.
      </div>
      
    <section id="pickup" class="block">
      <h2 class="pill pill-green">choose pickup window</h2>
      <p class="section-desc">
        each loaf is started for your slot.
      </p>

      <div class="window-grid">
        <label class="window-card">
          <input
            type="radio"
            name="pickupWindow"
            class="hidden-radio"
            value="afternoon"
            checked
            onchange="setPickupWindow('afternoon')"
          />
          <div class="window-name">Afternoon Batch</div>
          <div class="window-time">3 PM – 4 PM</div>
          <div class="window-hint">orders in before 12 PM</div>
        </label>

        <label class="window-card">
          <input
            type="radio"
            name="pickupWindow"
            class="hidden-radio"
            value="evening"
            onchange="setPickupWindow('evening')"
          />
          <div class="window-name">Evening Batch</div>
          <div class="window-time">6 PM – 7 PM</div>
          <div class="window-hint">orders in before 3 PM</div>
        </label>

        <label class="window-card">
          <input
            type="radio"
            name="pickupWindow"
            class="hidden-radio"
            value="night"
            onchange="setPickupWindow('night')"
          />
          <div class="window-name">Night Batch</div>
          <div class="window-time">9 PM – 10 PM</div>
          <div class="window-hint">orders in before 6 PM</div>
        </label>

        <label class="window-card">
          <input
            type="radio"
            name="pickupWindow"
            class="hidden-radio"
            value="midnight"
            onchange="setPickupWindow('midnight')"
          />
          <div class="window-name">Midnight Batch</div>
          <div class="window-time">12 AM – 1 AM</div>
          <div class="window-hint">pickup ok</div>
        </label>
      </div>
    </section>
      
      <a href="index.html" class="btn-primary full alt-btn">
        Add bread items
      </a>

      <button class="btn-checkout" onclick="openPayModal()">
        Pay &amp; schedule pickup →
      </button>

      <p class="checkout-note">
        choose pickup window, pay now, then swing by unit 105.
      </p>

      <div class="info-block">
        <div class="info-head">Delivery</div>
        <div class="info-body">
          local delivery option coming soon.
        </div>
        <div class="toast-action">
          <button class="btn-secondary full" disabled>
            Delivery coming soon
          </button>
        </div>
        <div class="info-note">
          pickup: side door · unit 105 · 5512 17th Ave NW
        </div>
      </div>
    </div>
  </aside>
</main>

<footer class="footer">
  <div class="wrap footer-inner">
    <div class="foot-left">
      <div class="pill pill-green">ballard bread lab</div>
      <div>side door pickup · unit 105</div>
      <div>5512 17th Ave NW, Seattle, WA 98107</div>
    </div>
    <div class="foot-right">
      <div>card checkout via Stripe</div>
      <div>contact form active</div>
    </div>
  </div>
</footer>

<!-- PAYMENT MODAL -->
<div id="payModal" class="modal hidden">
    <div class="modal-content">
    <div class="modal-header">
      <h2>complete your order</h2>
      <button onclick="closePayModal()">×</button>
    </div>

    <div class="modal-body">
      <h3>Pickup Window</h3>
      <p id="summaryWindow"></p>

      <h3>Order Summary</h3>
      <div id="summaryItems" class="summary-items-container">
        </div>
      <div class="summary-total-line">
        total <span id="summaryTotal">$0.00</span>
      </div>

      <form onsubmit="return false;">
        
  <label for="buyerName">Name</label>
  <input type="text" id="buyerName" placeholder="Your Name" required>

  <label for="buyerPhone">Phone</label>
  <input type="tel" id="buyerPhone" placeholder="For pickup notifications" required>

  <label for="buyerEmail">Email</label>
  <input type="email" id="buyerEmail" placeholder="For your receipt" required>

  <button type="button" class="btn-primary full" onclick="checkoutStripe()">
    Continue to Secure Payment
  </button>
</form>
    </div>
  </div>
</div>

</body>
</html>
